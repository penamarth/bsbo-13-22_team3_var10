# Прецедент: Покупка абонемента

**Основной исполнитель**: Покупатель

**Заинтересованные лица и их требования**:
-   Покупатель. Требует быстро и удобно выбрать подходящий абонемент, проверить информацию перед покупкой и получить абонемент после оплаты.
-   Платёжная система. Требует запросы на авторизацию в корректном формате и своевременно обрабатывает их.
-   Бухглатерская система. Хочет получать данные о продажах для учёта и регистрации транзакций.

**Предусловия**:
-   Клиент идентифицирован и аутентифицирован.
-   Система содержит актуальный список абонементов.

**Результаты (Постусловия)**:
-   Абонемент успешно продан и передан клиенту.
-   Данные для бухгалтерской системы сохранены.

## Основной сценарий

1. Клиент подходит к кассе и выбирает покупку абонемента (Метод BuySeasonTicket())
1. Система выдаёт список доступных абонементов
1. Клиент выбирает абонемент
1. Клиент вписывает личную информацию
1. Система показывает информацию для перепроверки
1. Клиент подтверждает верность информации
1. Клиент проводит оплату (Класс AdapterTransactionPayment())
1. Система регистрирует продажу абонемента и отправляет информацию бухгалтерской системе
1. Система выдаёт клиенту абонемент

## Альтернативные сценарии

1. Ошибка ввода личной информации:
-   Клиент вводит некорректные или неполные данные
-   Система прекращает операцию

2. Ошибка в платёжной системе:
-   Платёжная система возвращает отказ в обработке транзакции (например, недостаточно средств или сбой сети)
