# Прецедент: Покупка билета

**Основной исполнитель**: Покупатель

**Заинтересованные лица и их требования**:
-   Покупатель. Требует быстро и удобно выбрать подходящий матч, место и купить билет. Ожидает возможности проверки информации перед покупкой. Также требует получить билет после оплаты или использовать абонемент, если он есть.
-   Платёжная система. Требует запросы на авторизацию в корректном формате и своевременно обрабатывает их.
-   Бухгалтерская система. Хочет получать данные о продажах для учёта и регистрации транзакций.

**Предусловия**:
-   Клиент идентифицирован и аутентифицирован.
-   Система содержит актуальный список матчей и мест.

**Результаты (Постусловия)**:
-   Билет успешно продан и передан клиенту.
-   Данные для бухгалтерской системы сохранены.
-   Информация передана в бухгалтерскую систему.
-   Место зарезервировано для клиента.

## Основной сценарий
1. Клиент подходит к кассе и выбирает покупку билета (Метод BuyTicket())
1. Система выдаёт клиенту список предстоящих матчей (Метод SeeFutureMatch())
1. Клиент выбирает предстоящий матч
1. Система выдаёт клиенту список доступных мест (Метод SeeMatchSeats())
1. Клиент выбирает свободное место
1. Система резервирует место от покупки с других касс
1. Клиент вписывает личную информацию
1. Система показывает клиенту информацию для перепроверки
1. Клиент подтверждает верность информации
1. Клиент проводит оплату (Класс AdapterTransactionPayment)
1. Система обрабатывает платёж
1. Система регистрирует продажу билета и отправляет информацию бухгалтерской системе
1. Клиент получает билет

## Альтернативные сценарии:

1. Ошибка ввода личной информации:
-   Клиент вводит некорректные или неполные данные
-   Система прекращает операцию

2. Ошибка в платёжной системе:
-   Платёжная система возвращает отказ в обработке транзакции (например, недостаточно средств или сбой сети)










